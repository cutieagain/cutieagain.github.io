<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="巧目java面试题20210408, 欧葵小站">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>巧目java面试题20210408 | 欧葵小站</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">欧葵小站</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">欧葵小站</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/cutieagain" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/cutieagain" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/5.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">巧目java面试题20210408</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2021-04-08
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2021-04-08
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    15.4k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    54 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="一、Java基础"><a href="#一、Java基础" class="headerlink" title="一、Java基础"></a><strong>一、Java基础</strong></h1><p><strong>1. 实例方法和静态方法有什么不一样？</strong></p>
<p><strong>2. Java中的异常有哪几类？分别怎么使用？</strong></p>
<p>检出异常，非检出异常。检出异常需要try…catch才能编译通过。非检出异常不用try…catch也能编译通过。</p>
<p>RuntimeException是非检出异常，不需要try…catch也能编译通过。</p>
<p>IoException，SQLException等等其他所有异常都是检出异常，必须要try…catach才能编译通过。</p>
<p><strong>3. 常用的集合类有哪些？比如List如何排序？</strong></p>
<p>分两种，一种实现Set接口，一种是实现List接口的。</p>
<p>Set：TreeSet,HashSet.</p>
<p>List:ArrayList,LinkedList,Vector(线程安全)。</p>
<p>JDK7以前用collections.sort(list,Comparator).</p>
<p>JDK8直接用List.sort(Comparator).</p>
<p><strong>4. ArrayList和LinkedList内部的实现大致是怎样的？他们之间的区别和各自适应的场景是什么？</strong></p>
<p>ArrayList,是数组结构：少用与中间的增删。多用于查询，修改。每次增删元素顺序都会操作每个元素。</p>
<p>LinkedList,是链表结构：多用于中间，开头增删。少用查询，修改。查询时会遍历大量元素。</p>
<p><strong>5. 内存溢出是怎么回事？</strong></p>
<p>对象有被指向的引用，但是再也用不到它就是内存溢出了。</p>
<p>GC机制：复制回收，标记清除，引用计数（如果有循环引用后，会影响垃圾回收，所以JVM虚拟机没有采用此方法进行垃圾回收）。</p>
<p><strong>6. ClassLoader有什么用？</strong></p>
<p>类加载器：所有类都需要Classloader来加载。</p>
<p>BoostrapClassLoader，加载系统（java包下）的类，SystemClassLoader,加载系统扩展类(少用)，AppClassloader应用类加载器，还有针对每个项目的类加载器。</p>
<p><strong>7. ==和equals的区别？</strong></p>
<p>==判断对象物理地址。</p>
<p>equals判断对象Value是否相等。</p>
<p><strong>8. hashCode方法的作用？</strong></p>
<p>在hashMap中使用，把一个对象变成一个整型。hashCode规范，如果两个对象的equals返回true，那他们的hashCode必须相等，但是hashCode相等，不一定equals不一定相等。</p>
<p><strong>9. Object类中有哪些方法？列举3个以上。</strong></p>
<p>构造方法，toString()，equals，hashCode，getClass,finalize,clone,三个wait(),notify,notifyAll.</p>
<p><strong>10. NIO是什么？适用于何种场景？</strong></p>
<p> NIO是newIO,接口都是异步的，非阻塞的。</p>
<p><strong>12. HashMap数据结构、扩展策略，Hash冲突攻击如何防范，如何实现线程安全的HashMap？</strong></p>
<p> JDK7以前：数组里面存linkedList,hash冲突，升级到JDK8。</p>
<p>JDK8,数组里面加集合，如果对象hashCode相同，不可比较时就是linkedList，可比较就会用TreeSet进行排序处理（红黑树先访问小的）。hash冲突不用防范。如果对象不可比较且hash冲突，我们可适当实现可比较接口。</p>
<p>线程安全：ConcurrentHashMap(系统自带的线程安全的HashMap),Map&lt;Object, Object&gt; synchronizedMap = Collections.synchronizedMap(new HashMap&lt;&gt;()); synchronizedMap 为线程安全的Map.</p>
<p><strong>16. Java中一个字符占多少个字节，扩展再问int, long, double占多少字节</strong></p>
<p>一个字符两个字节，int 4 , long double 8 </p>
<p><strong>17. 创建一个类的实例都有哪些办法？</strong></p>
<p>new ，反射。</p>
<p><strong>18. final/finally/finalize的区别？</strong></p>
<p> final是类，变量，方法的修饰。类被修饰后不能再被继承。变量和方法被修饰不能再被修改</p>
<p>finally是try…catch后执行的finally，</p>
<p>finalize,在Object中的方法名，在此对象被回收前会执行这个方法。（当使用文件流时，如果对象被回收，没有关闭流，在底层就会实现内存泄露）</p>
<p><strong>19. LinkingBlockingQueue与ArrayBlockingQueue的区别，他们的适用场景？</strong></p>
<p>LinkingBlockQueue 链表实现的阻塞队列，适合一个一个放，一个一个取。</p>
<p>ArrayBlocakingQueue数组实现的阻塞队列，适合三个放，多个放，只适合多个取，不适合单个取。</p>
<p><strong>20. Session/Cookie的区别？</strong></p>
<p>Session存在服务器端。</p>
<p>Cookie存在客户端（浏览器上）。</p>
<p><strong>21. String/StringBuffer/StringBuilder的区别，扩展再问他们的实现？</strong></p>
<p>String 值不可变</p>
<p>StringBuffer 值可变，线程安全</p>
<p>StringBuilder 值可变，线程不安全</p>
<p><strong>22. Servlet的生命周期？</strong></p>
<p>初始化，服务处理（接收请求，处理请求，返回结果），销毁。</p>
<p><strong>23. 如何用Java分配一段连续的1G的内存空间？需要注意些什么？</strong></p>
<p>ByteBuffer.allocateDirect(1024<em>1024</em>1024);</p>
<p><strong>24. Java有自己的内存回收机制，但为什么还存在内存泄露的问题呢？</strong></p>
<p><strong>25. Java里面用对象作为Key需要注意些什么？ 如何实现hashcode？</strong> </p>
<p>对象放进去了hash值不能变。hashCode的值尽量不等。</p>
<h2 id="java的多态表现在哪里"><a href="#java的多态表现在哪里" class="headerlink" title="java的多态表现在哪里"></a><strong>java的多态表现在哪里</strong></h2><p>主要有两种表现形式：重载和重写</p>
<p><strong>重载：</strong></p>
<p>是发生在同一类中，具有相同的方法名，主要是看参数的个数，类型，顺序不同实现方法的重载的，返回值的类型可以不同。</p>
<p><strong>重写：</strong></p>
<p>是发生在两个类中（父类和子类），具有相同的方法名，主要看方法中参数，个数，类型必须相同，返回值的类型必须相同。</p>
<h2 id="List和Set比较，各自的子类比较"><a href="#List和Set比较，各自的子类比较" class="headerlink" title="List和Set比较，各自的子类比较"></a><strong>List和Set比较，各自的子类比较</strong></h2><p><strong>对比一：Arraylist与LinkedList的比较</strong></p>
<p>1、ArrayList是实现了基于动态数组的数据结构,因为地址连续，一旦数据存储好了，查询操作效率会比较高（在内存里是连着放的）。</p>
<p>2、因为地址连续， ArrayList要移动数据,所以插入和删除操作效率比较低。</p>
<p>3、LinkedList基于链表的数据结构,地址是任意的，所以在开辟内存空间的时候不需要等一个连续的地址，对于新增和删除操作add和remove，LinedList比较占优势。</p>
<p>4、因为LinkedList要移动指针,所以查询操作性能比较低。</p>
<p><strong>适用场景分析：</strong></p>
<p>当需要对数据进行对此访问的情况下选用ArrayList，当需要对数据进行多次增加删除修改时采用LinkedList。</p>
<p><strong>对比二：ArrayList与Vector的比较</strong></p>
<p>1、Vector的方法都是同步的，是线程安全的，而ArrayList的方法不是，由于线程的同步必然要影响性能。因此，ArrayList的性能比Vector好。<br>2、当Vector或ArrayList中的元素超过它的初始大小时，Vector会将它的容量翻倍，而ArrayList只增加50%的大小，这样。ArrayList就有利于节约内存空间。</p>
<p>3、大多数情况不使用Vector，因为性能不好，但是它支持线程的同步，即某一时刻只有一个线程能够写Vector，避免多线程同时写而引起的不一致性。</p>
<p>4、Vector可以设置增长因子，而ArrayList不可以。</p>
<p><strong>适用场景分析：</strong></p>
<p>1、Vector是线程同步的，所以它也是线程安全的，而ArrayList是线程异步的，是不安全的。如果不考虑到线程的安全因素，一般用ArrayList效率比较高。</p>
<p>2、如果集合中的元素的数目大于目前集合数组的长度时，在集合中使用数据量比较大的数据，用Vector有一定的优势。</p>
<p><strong>对比三：HashSet与TreeSet的比较</strong></p>
<p>1.TreeSet 是二叉树实现的，Treeset中的数据是自动排好序的，不允许放入null值 。</p>
<p>2.HashSet 是哈希表实现的，HashSet中的数据是无序的，可以放入null，但只能放入一个null，两者中的值都不能重复，就如数据库中唯一约束 。</p>
<p>3.HashSet要求放入的对象必须实现HashCode()方法，放入的对象，是以hashcode码作为标识的，而具有相同内容的String对象，hashcode是一样，所以放入的内容不能重复。但是同一个类的对象可以放入不同的实例。</p>
<p><strong>适用场景分析：</strong></p>
<p>HashSet是基于Hash算法实现的，其性能通常都优于TreeSet。我们通常都应该使用HashSet，在我们需要排序的功能时，我们才使用TreeSet。</p>
<hr>
<h2 id="HashMap和ConcurrentHashMap的区别"><a href="#HashMap和ConcurrentHashMap的区别" class="headerlink" title="HashMap和ConcurrentHashMap的区别"></a><strong>HashMap和ConcurrentHashMap的区别</strong></h2><p>1、HashMap不是线程安全的，而ConcurrentHashMap是线程安全的。</p>
<p>2、ConcurrentHashMap采用锁分段技术，将整个Hash桶进行了分段segment，也就是将这个大的数组分成了几个小的片段segment，而且每个小的片段segment上面都有锁存在，那么在插入元素的时候就需要先找到应该插入到哪一个片段segment，然后再在这个片段上面进行插入，而且这里还需要获取segment锁。</p>
<p>3、ConcurrentHashMap让锁的粒度更精细一些，并发性能更好。</p>
<p>至于两者的底层实现，你如果想通过一篇文章就理解了，那就too young了，好好找些博文+看源码去吧。</p>
<hr>
<h2 id="HashTable和ConcurrentHashMap的区别"><a href="#HashTable和ConcurrentHashMap的区别" class="headerlink" title="HashTable和ConcurrentHashMap的区别"></a><strong>HashTable和ConcurrentHashMap的区别</strong></h2><p>它们都可以用于多线程的环境，但是当Hashtable的大小增加到一定的时候，性能会急剧下降，因为迭代时需要被锁定很长的时间。因为ConcurrentHashMap引入了分割(segmentation)，不论它变得多么大，仅仅需要锁定map的某个部分，而其它的线程不需要等到迭代完成才能访问map。简而言之，在迭代的过程中，ConcurrentHashMap仅仅锁定map的某个部分，而Hashtable则会锁定整个map。</p>
<hr>
<h2 id="String-StringBuffer和StringBuilder的区别"><a href="#String-StringBuffer和StringBuilder的区别" class="headerlink" title="String,StringBuffer和StringBuilder的区别"></a><strong>String,StringBuffer和StringBuilder的区别</strong></h2><p>1、运行速度，或者说是执行速度，在这方面运行速度快慢为：StringBuilder &gt; StringBuffer &gt; String。</p>
<p>2、线程安全上，StringBuilder是线程不安全的，而StringBuffer是线程安全的。</p>
<p><strong>适用场景分析：</strong></p>
<p>String：适用于少量的字符串操作的情况</p>
<p>StringBuilder：适用于单线程下在字符缓冲区进行大量操作的情况</p>
<p>StringBuffer：适用多线程下在字符缓冲区进行大量操作的情况</p>
<hr>
<h2 id="wait和sleep的区别"><a href="#wait和sleep的区别" class="headerlink" title="wait和sleep的区别"></a><strong>wait和sleep的区别</strong></h2><p>1、sleep()方法是属于Thread类中的，而wait()方法，则是属于Object类中的。</p>
<p>2、sleep()方法导致了程序暂停执行指定的时间，让出cpu给其他线程，但是他的监控状态依然保持着，当指定的时间到了又会自动恢复运行状态。所以在调用sleep()方法的过程中，线程不会释放对象锁。</p>
<p>3、调用wait()方法的时候，线程会放弃对象锁，进入等待此对象的等待锁定池，只有针对此对象调用notify()方法后本线程才进入对象锁定池准备获取对象锁进入运行状态。</p>
<h2 id="BIO、NIO和AIO的区别"><a href="#BIO、NIO和AIO的区别" class="headerlink" title="BIO、NIO和AIO的区别"></a><strong>BIO、NIO和AIO的区别</strong></h2><p>Java BIO ： 同步并阻塞，服务器实现模式为一个连接一个线程，即客户端有连接请求时服务器端就需要启动一个线程进行处理，如果这个连接不做任何事情会造成不必要的线程开销，当然可以通过线程池机制改善。</p>
<p>Java NIO ： 同步非阻塞，服务器实现模式为一个请求一个线程，即客户端发送的连接请求都会注册到多路复用器上，多路复用器轮询到连接有I/O请求时才启动一个线程进行处理。</p>
<p>Java AIO： 异步非阻塞，服务器实现模式为一个有效请求一个线程，客户端的I/O请求都是由OS先完成了再通知服务器应用去启动线程进行处理。</p>
<p><em>NIO比BIO的改善之处是把一些无效的连接挡在了启动线程之前，减少了这部分资源的浪费（因为我们都知道每创建一个线程，就要为这个线程分配一定的内存空间）</em></p>
<p><em>AIO比NIO的进一步改善之处是将一些暂时可能无效的请求挡在了启动线程之前，比如在NIO的处理方式中，当一个请求来的话，开启线程进行处理，但这个请求所需要的资源还没有就绪，此时必须等待后端的应用资源，这时线程就被阻塞了。</em></p>
<p><strong>适用场景分析：</strong></p>
<p>BIO方式适用于连接数目比较小且固定的架构，这种方式对服务器资源要求比较高，并发局限于应用中，JDK1.4以前的唯一选择，但程序直观简单易理解，如之前在Apache中使用。</p>
<p>NIO方式适用于连接数目多且连接比较短（轻操作）的架构，比如聊天服务器，并发局限于应用中，编程比较复杂，JDK1.4开始支持，如在 Nginx，Netty中使用。</p>
<p>AIO方式使用于连接数目多且连接比较长（重操作）的架构，比如相册服务器，充分调用OS参与并发操作，编程比较复杂，JDK7开始支持，在成长中，Netty曾经使用过，后来放弃。</p>
<h2 id="（转发）forward与（重定向）redirect的区别"><a href="#（转发）forward与（重定向）redirect的区别" class="headerlink" title="（转发）forward与（重定向）redirect的区别"></a><strong>（转发）forward与（重定向）redirect的区别</strong></h2><p>forward是服务器请求资源，服务器直接访问目标地址的URL，把那个URL的响应内容读取过来,然后把这些内容再发给浏览器。浏览器根本不知道服务器发送的内容从哪里来的,所以它的地址栏还是原来的地址。</p>
<p>redirect是服务端根据逻辑，发送一个状态码，告诉浏览器重新去请求那个地址，所以地址栏显示的是新的URL。</p>
<p>forward转发页面和转发到的页面可以共享request里面的数据。</p>
<p>redirect不能共享数据。</p>
<p>redirect不仅可以重定向到当前应用程序的其他资源，还可以重定向到同一个站点上的其他应用程序中的资源，甚至是使用绝对URL重定向到其他站点的资源。</p>
<p>forward只能在同一个Web应用程序内的资源之间转发请求。</p>
<p>forward是服务器内部的一种操作。</p>
<p>redirect是服务器通知客户端，让客户端重新发起请求。</p>
<p>forward一般用于用户登陆的时候根据角色转发到相应的模块。</p>
<p>redirect一般用于用户注销登陆时返回主页面和跳转到其它的网站等。</p>
<p>forward效率高。</p>
<p>redirect效率低。</p>
<h2 id="请写一段栈溢出、堆溢出的代码【数据和方法分别存放在哪里】"><a href="#请写一段栈溢出、堆溢出的代码【数据和方法分别存放在哪里】" class="headerlink" title="请写一段栈溢出、堆溢出的代码【数据和方法分别存放在哪里】"></a><strong>请写一段栈溢出、堆溢出的代码</strong>【数据和方法分别存放在哪里】</h2><p>递归调用可以导致栈溢出<br>不断创建对象可以导致堆溢出</p>
<p>代码如下：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>  
 
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testHeap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
       <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
             <span class="token class-name">ArrayList</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span> <span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
         <span class="token punctuation">}</span>  
   <span class="token punctuation">}</span>  
   <span class="token keyword">int</span> num<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>  
   <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
       num<span class="token operator">++</span><span class="token punctuation">;</span>  
       <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">testStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
     
   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>  
       <span class="token class-name">Test</span>  t  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
       t<span class="token punctuation">.</span><span class="token function">testHeap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
       t<span class="token punctuation">.</span><span class="token function">testStack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
   <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>






<h1 id="二、JVM"><a href="#二、JVM" class="headerlink" title="二、JVM"></a><strong>二、JVM</strong></h1><ol>
<li><p>JVM堆的基本结构。</p>
</li>
<li><p>JVM的垃圾算法有哪几种？CMS收集算法的流程？</p>
</li>
<li><p>JVM有哪些常用启动参数可以调整？</p>
</li>
<li><p>如何查看JVM的内存使用情况？</p>
</li>
<li><p>Java程序是否会内存溢出？</p>
</li>
<li><p><strong>你常用的JVM配置和调优参数都有哪些？分别什么作用？</strong></p>
</li>
<li><p>Java内存分代模型，GC算法，JVM常见的启动参数； </p>
</li>
<li><p>CMS算法的过程，CMS回收过程中JVM是否需要暂停</p>
</li>
<li><p>什么情况下会出现OOM（堆内存，永久区，堆外区，方法栈）</p>
</li>
<li><p>Java内存结构（堆结构，新生代[S0/S1/Elden]，年老代，持久代）</p>
</li>
<li><p>常用的GC策略，什么时候会触发YGC，什么时候触发FGC </p>
</li>
</ol>
<p><strong>13. JVM内存结构，GC算法，CMS、G1的原理</strong> </p>
<ol start="14">
<li><strong>NIO模型，select/epoll的区别，多路复用的原理</strong></li>
</ol>
<h2 id="JVM的内存结构"><a href="#JVM的内存结构" class="headerlink" title="JVM的内存结构"></a><strong>JVM的内存结构</strong></h2><p>根据 JVM 规范，JVM 内存共分为虚拟机栈、堆、方法区、程序计数器、本地方法栈五个部分。</p>
<p><strong>1、Java虚拟机栈：</strong></p>
<p>线程私有；每个方法在执行的时候会创建一个栈帧，存储了局部变量表，操作数栈，动态连接，方法返回地址等；每个方法从调用到执行完毕，对应一个栈帧在虚拟机栈中的入栈和出栈。</p>
<p><strong>2、堆：</strong></p>
<p>线程共享；被所有线程共享的一块内存区域，在虚拟机启动时创建，用于存放对象实例。</p>
<p><strong>3、方法区：</strong></p>
<p>线程共享；被所有线程共享的一块内存区域；用于存储已被虚拟机加载的类信息，常量，静态变量等。</p>
<p><strong>4、程序计数器：</strong></p>
<p>线程私有；是当前线程所执行的字节码的行号指示器，每条线程都要有一个独立的程序计数器，这类内存也称为“线程私有”的内存。</p>
<p><strong>5、本地方法栈：</strong></p>
<p>线程私有；主要为虚拟机使用到的Native方法服务。</p>
<h2 id="java中常说的堆和栈，分别是什么数据结构；另外，为什么要分为堆和栈来存储数据"><a href="#java中常说的堆和栈，分别是什么数据结构；另外，为什么要分为堆和栈来存储数据" class="headerlink" title="java中常说的堆和栈，分别是什么数据结构；另外，为什么要分为堆和栈来存储数据"></a><strong>java中常说的堆和栈，分别是什么数据结构；另外，为什么要分为堆和栈来存储数据</strong></h2><p>栈是一种具有后进先出性质的数据结构，也就是说后存放的先取，先存放的后取。</p>
<p>堆是一种经过排序的树形数据结构，每个结点都有一个值。通常我们所说的堆的数据结构，是指二叉堆。堆的特点是根结点的值最小（或最大），且根结点的两个子树也是一个堆。由于堆的这个特性，常用来实现优先队列，堆的存取是随意的。</p>
<h2 id="为什么要划分堆和栈-堆栈分别是什么作用"><a href="#为什么要划分堆和栈-堆栈分别是什么作用" class="headerlink" title="为什么要划分堆和栈/堆栈分别是什么作用"></a><strong>为什么要划分堆和栈</strong>/堆栈分别是什么作用</h2><p>1、从软件设计的角度看，栈代表了处理逻辑，而堆代表了数据。这样分开，使得处理逻辑更为清晰。</p>
<p>2、堆与栈的分离，使得堆中的内容可以被多个栈共享。一方面这种共享提供了一种有效的数据交互方式(如：共享内存)，另一方面，堆中的共享常量和缓存可以被所有栈访问，节省了空间。</p>
<p>3、栈因为运行时的需要，比如保存系统运行的上下文，需要进行地址段的划分。由于栈只能向上增长，因此就会限制住栈存储内容的能力。而堆不同，堆中的对象是可以根据需要动态增长的，因此栈和堆的拆分，使得动态增长成为可能，相应栈中只需记录堆中的一个地址即可。</p>
<p>4、体现了Java面向对象这一核心特点（也可以继续说一些自己的理解）</p>
<hr>
<h2 id="强引用，软引用和弱引用的区别"><a href="#强引用，软引用和弱引用的区别" class="headerlink" title="强引用，软引用和弱引用的区别"></a><strong>强引用，软引用和弱引用的区别</strong></h2><p><strong>强引用：</strong></p>
<p>只有这个引用被释放之后，对象才会被释放掉，只要引用存在，垃圾回收器永远不会回收，这是最常见的New出来的对象。</p>
<p><strong>软引用：</strong></p>
<p>内存溢出之前通过代码回收的引用。软引用主要用户实现类似缓存的功能，在内存足够的情况下直接通过软引用取值，无需从繁忙的真实来源查询数据，提升速度；当内存不足时，自动删除这部分缓存数据，从真正的来源查询这些数据。</p>
<p><strong>弱引用：</strong></p>
<p>第二次垃圾回收时回收的引用，短时间内通过弱引用取对应的数据，可以取到，当执行过第二次垃圾回收时，将返回null。弱引用主要用于监控对象是否已经被垃圾回收器标记为即将回收的垃圾，可以通过弱引用的isEnQueued方法返回对象是否被垃圾回收器标记。</p>
<h2 id="垃圾回收GC"><a href="#垃圾回收GC" class="headerlink" title="垃圾回收GC"></a>垃圾回收GC</h2><p>Java语言中一个显著的特点就是引入了垃圾回收机制，这个大家都清楚，垃圾回收的概念这里也不做介绍，重点是垃圾回收是在什么时候开始？对什么东西，做了什么事情？</p>
<p><strong>GC何时开始：</strong></p>
<p>所有的回收器类型都是基于分代技术来实现的，那就必须要清楚对象按其生命周期是如何划分的。</p>
<p><strong>年轻代：</strong>划分为三个区域：原始区(Eden)和两个小的存活区(Survivor)，两个存活区按功能分为From和To。绝大多数的对象都在原始区分配，超过一个垃圾回收操作仍然存活的对象放到存活区。垃圾回收绝大部分发生在年轻代。</p>
<p><strong>年老代：</strong> 存储年轻代中经过多个回收周期仍然存活的对象，对于一些大的内存分配，也可能直接分配到永久代。</p>
<p><strong>持久代：</strong> 存储类、方法以及它们的描述信息，这里基本不产生垃圾回收。</p>
<p><strong>有了以上这些铺垫之后开始回答GC何时开始：</strong></p>
<p>Eden内存满了之后，开始Minor GC（从年轻代空间回收内存被称为 Minor GC）；升到老年代的对象所需空间大于老年代剩余空间时开始Full GC（但也可能小于剩余空间时，被HandlePromotionFailure参数强制Full GC）</p>
<p><strong>对什么东西操作，即垃圾回收的对象是什么：</strong></p>
<p>从root开始搜索没有可达对象，而且经过第一次标记、清理后，仍然没有复活的对象。</p>
<p><strong>做了什么东西：</strong></p>
<p>主要做了清理对象，整理内存的工作。具体的引申如下</p>
<p><strong>垃圾回收器的类型：</strong></p>
<ul>
<li>串行垃圾回收器（Serial Garbage Collector）</li>
<li>并行垃圾回收器（Parallel Garbage Collector）</li>
<li>并发标记扫描垃圾回收器（CMS Garbage Collector）</li>
<li>G1垃圾回收器（G1 Garbage Collector）</li>
</ul>
<p><strong>垃圾回收算法：</strong></p>
<ul>
<li>引用计数法</li>
<li>标记清除法</li>
<li>复制算法</li>
<li>标记压缩算法</li>
<li>分代算法</li>
<li>分区算法</li>
<li>类在虚拟机中的加载过程</li>
</ul>
<p>加载Loading：</p>
<p>通过一个类的全限定名来获取一个二进制字节流、将这个字节流所代表的静态存储结构转化为方法区的运行时数据结构、在内存中生成一个代表这个类的java.lang.Class对象，作为方法区这个类的各种数据的访问入口。</p>
<p><strong>验证Verification：</strong></p>
<ul>
<li>确保Class文件的字节流中包含的信息符合当前虚拟机的要求，并不会危害虚拟机的自身安全。</li>
</ul>
<p><strong>准备Preparation：</strong></p>
<ul>
<li>正式为类变量分配内存并设置类变量初始值。</li>
</ul>
<p><strong>解析Resolution：</strong></p>
<ul>
<li>虚拟机将常量池内的符号引用替换为直接引用的过程。</li>
</ul>
<p><strong>初始化Initialization：</strong></p>
<ul>
<li>类加载过程的最后一步，到了这个阶段才真正开始执行类中定义的Java程序代码。</li>
</ul>
<p><strong>使用Using：</strong></p>
<ul>
<li>根据你写的程序代码定义的行为执行。</li>
</ul>
<p><strong>卸载Unloading：</strong></p>
<ul>
<li>GC负责卸载，这部分一般不用讨论。</li>
<li>强引用、软引用、弱引用、虚引用与GC的关系</li>
<li><strong>强引用：</strong> new出的对象之类的引用，只要强引用还在，永远不会回收。</li>
<li><strong>软引用：</strong> 引用但非必须的对象，内存溢出异常之前回收。</li>
<li><strong>弱引用：</strong> 非必须的对象，对象只能生存到下一次垃圾收集发生之前。</li>
<li><strong>虚引用：</strong> 对生存时间无影响，在垃圾回收时得到通知。</li>
</ul>
<h1 id="三、数据结构与算法基础"><a href="#三、数据结构与算法基础" class="headerlink" title="三、数据结构与算法基础"></a><strong>三、数据结构与算法基础</strong></h1><ol>
<li><p>说一下几种常见的排序算法和分别的复杂度。</p>
</li>
<li><p>什么是跳表？</p>
</li>
<li><p>如何确认一个链表有环？进一步，确认环的位置。</p>
</li>
<li><p>如何遍历一棵二叉树？</p>
</li>
<li><p>倒排一个LinkedList。  </p>
</li>
<li><p>HashSet的实现方式</p>
</li>
</ol>
<h1 id="四、多线程-并发"><a href="#四、多线程-并发" class="headerlink" title="四、多线程/并发"></a><strong>四、多线程/并发</strong></h1><p><strong>1. Java中常见的锁</strong></p>
<p>互斥锁，读写锁，信号量</p>
<p>互斥锁，读写只能一个线程</p>
<p>读写锁，写只能一个线程，读可以多个线程</p>
<p>信号量，如停车场，能允许一定量的线程，满了则不能再进入，需要等别的线程释放资源。</p>
<ol start="2">
<li>原子Atomic类，如何保证原子性，CAS硬件指令</li>
</ol>
<p>在atomic类底层使用CAS硬件指令，来保证atomic的原子性。CAS在硬件级别实现了原子操作。</p>
<ol start="3">
<li>volatile，可见性问题的原因，硬件架构，L3 Cache，QPI，乐观锁</li>
</ol>
<p>volatile：易变的。被修饰的变量在多线程中被改变时，别的线程能知道。</p>
<ol start="4">
<li>如何实现一个线程安全的数据结构</li>
</ol>
<p>new 一个volatile 的Atomatic变量，或者使用concurrent类型的集合，ConcurrentHashMap之类的。</p>
<ol start="5">
<li>如何避免死锁</li>
</ol>
<p>如果有两个锁的时候，如果先锁住第一个参数，再锁住第二个参数，这种情况就会产生死锁。</p>
<p>比如，第一个参数是A，第二个参数是B，如果第一个参数先锁，第二个参数后锁。在刚好锁住第一个参数，第二次请求来了，刚好两个参数颠倒了就会锁住第二个参数，那就会造成死锁。</p>
<p>解决死锁：在需要锁住多个参数的时候，先把参数按固定的顺序排序，然后在对排序后的参数加锁，这样就有效的避免死锁。</p>
<ol start="6">
<li>如何解决ABA问题</li>
</ol>
<p>ABA问题：如果另一个线程修改V值假设原来是A，先修改成B，再修改回成A。当前线程的CAS操作无法分辨当前V值是否发生过变化。</p>
<p>用另一个标识判断某值是否有改变过。</p>
<ol start="7">
<li>Synchronized关键字的作用？</li>
</ol>
<p>对Synchronized（）括号内的对象加互斥锁，不影响父类或者子类的访问。</p>
<ol start="8">
<li>Volatile关键字的作用？</li>
</ol>
<p>可见的，当其中一个线程改变了volatile的变量时，别的使用这个变量的线程都能读取到最新值。</p>
<p><img src="https://images2015.cnblogs.com/blog/735249/201612/735249-20161209104429585-380774315.jpg" alt="img"></p>
<p>但是，这个并不能解决并发问题。比如第一个线程读取到值是3，第二个线程也读取了3，然后第一个线程+1放入了write区，第二个线程+1也放到了write区，那么两个线程的值都是4，期望值是5，这时候还是会造成并发问题。</p>
<ol start="9">
<li>Java内存模型是怎样的？</li>
</ol>
<p><img src="https://images2015.cnblogs.com/blog/735249/201612/735249-20161209104648960-534172466.png" alt="img"></p>
<pre class="line-numbers language-none"><code class="language-none">1``. 方法区：``a. 方法区是各线程共享内存的区域。``b. 它存放类的信息、``static``变量、常量（常量池包含于方法区）、即时编译器编译后的代码数据。``c. 它属于非堆部分。`` ` `2``. 堆（先进先出）：``a. 堆是内存最大的一块区域，堆是各线程共享内存的区域。``b. 堆中存放被创建的实例对象、数组。``c. 堆是GC管理的主要区域。`` ` `3``. 栈（先进后出）：``a. 栈是线程私有的，它的生命周期与线程相同。线程生命周期（创建，就绪，运行，阻塞，死亡）``b. 栈是java方法执行的内存模型：``  ``每个方法执行时会在栈中创建一个栈帧（stack frame），用于存放 局部变量表、操作栈、动态链接、方法出口等信息。方法从执行开始就完成了 压栈 到 弹栈 的过程。``  ``局部变量表中存放了基本数据类型（``int``,``short``,``long``,``char``,``byte``,``float``,``double``,``boolean``，其中``long``、``double` `两个``64``位长度的类型会占用两个局部变量空间、其他的只占一个）、对象引用（并非本身，引用指向堆中的对象地址）、方法返回类型。``  ``局部变量表所需控件在编译时就已经确定了，因此方法运行期间不会改变其内存大小。`` ` `4``. 本地方法栈：``a. 与java虚拟机栈功能类似，区别在于服务对象不同，该栈服务于jvm使用的``native``方法。`` ` `5``. 程序计数器：``a. 每条线程执行时都有自己的程序计数器，互不影响。``b. 程序计数器指向该计数器的拥有者（线程）下一步执行的位置。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>　　</p>
<ol start="10">
<li>HashMap在多线程环境下使用需要注意什么？为什么？</li>
</ol>
<p>在多线程环境下，需要使用ConcurrentHashMap，因为HashMap是线程不安全的，如果多线程操作，会造成不可预期的结果。</p>
<ol start="11">
<li>Java程序中启动一个线程是用run()还是start()？</li>
</ol>
<p>start()是重新开启一个线程运行。 如果是run()，那就相当于在当前线程运行，并不会新创建一个线程运行。</p>
<ol start="12">
<li>什么是守护线程？有什么用？</li>
</ol>
<p>守护线程是运行在后端的线程，当系统停止运行，守护线程也就停止了。</p>
<p>进行内存回收,垃圾清理等工作</p>
<ol start="13">
<li>什么是死锁？如何避免</li>
</ol>
<p>原因：</p>
<p>（1） 因为系统资源不足。<br>（2） 进程运行推进的顺序不合适。<br>（3） 资源分配不当等。</p>
<p>死锁必要条件：</p>
<p>（1） 互斥条件：一个资源每次只能被一个进程使用。<br>（2） 请求与保持条件：一个进程因请求资源而阻塞时，对已获得的资源保持不放。<br>（3） 不剥夺条件:进程已获得的资源，在末使用完之前，不能强行剥夺。<br>（4） 循环等待条件:若干进程之间形成一种头尾相接的循环等待资源关系。</p>
<p><img src="https://images2015.cnblogs.com/blog/735249/201612/735249-20161209144549163-61957483.png" alt="img"></p>
<p>A线程锁住的资源被B线程锁住了，然后B线程需要的资源被A线程锁住了，这时候就会造成死锁。</p>
<p>避免这种死锁的方法，当需要锁住多个资源的时候，那就先对资源进行排序，然后再加锁，就会有效的防止死锁。</p>
<p>还有饥饿锁，当优先级高的不断获得资源，优先级低的一直获取不到资源，也会造成死锁。</p>
<p>谦让锁，当几个线程共同获取资源，就会线程先停止，让别的线程先执行。如果每个线程都这样，那就会一起谦让，也会造成死锁。</p>
<ol start="14">
<li>线程和进程的差别是什么？</li>
</ol>
<p>线程是进程的实现，进程是线程的体现。进程是独立的，线程运行在进程内。进程内可以有多个线程同时运行着。</p>
<p>线程是在代码层面上，进程是在服务器CPU内存上。</p>
<ol start="15">
<li><p>Java里面的Threadlocal是怎样实现的？</p>
</li>
<li><p>ConcurrentHashMap的实现原理是？</p>
</li>
</ol>
<p>对大数组的每个值进行分离加锁，实现了锁分离。</p>
<ol start="17">
<li>sleep和wait区别</li>
</ol>
<p>sleep是占用着cpu阻塞，wait是不占用cpu阻塞。</p>
<ol start="18">
<li>notify和notifyAll区别</li>
</ol>
<p>通知处在等待该对象的线程</p>
<p>notifyAll使所有原来在该对象上等待被notify的线程统统退出wait的状态，变成等待该对象上的锁，一旦该对象被解锁，他们就会去竞争。</p>
<p>notify是通知其中一个线程，而不会通知别的线程。</p>
<ol start="19">
<li><p>volatile关键字的作用</p>
</li>
<li><p>ThreadLocal的作用与实现</p>
</li>
<li><p>两个线程如何串行执行</p>
</li>
<li><p>上下文切换是什么含义</p>
</li>
<li><p>可以运行时kill掉一个线程吗？</p>
</li>
<li><p>什么是条件锁、读写锁、自旋锁、可重入锁？</p>
</li>
<li><p>什么是协程（用户态线程，减少数据拷贝，降低CPU开销，无callback函数）？</p>
</li>
<li><p>线程池ThreadPoolExecutor的实现原理？</p>
</li>
<li><p>J.U.C下的常见类的使用。lock, synchronized， ThreadPool的深入考察； BlockingQueue的使用。（take，poll的区别，put，offer的区别）；原子类的实现。</p>
</li>
<li><p>各种常见锁使用如果上面这些掌握很好，还可以看看更深一点的 False Sharing，Cache Line，可见性与原子性等； </p>
</li>
</ol>
<h2 id="什么是线程死锁？死锁如何产生？如何避免线程死锁？"><a href="#什么是线程死锁？死锁如何产生？如何避免线程死锁？" class="headerlink" title="什么是线程死锁？死锁如何产生？如何避免线程死锁？"></a><strong>什么是线程死锁？死锁如何产生？如何避免线程死锁？</strong></h2><p><strong>死锁的介绍：</strong></p>
<p>线程死锁是指由于两个或者多个线程互相持有对方所需要的资源，导致这些线程处于等待状态，无法前往执行。当线程进入对象的synchronized代码块时，便占有了资源，直到它退出该代码块或者调用wait方法，才释放资源，在此期间，其他线程将不能进入该代码块。当线程互相持有对方所需要的资源时，会互相等待对方释放资源，如果线程都不主动释放所占有的资源，将产生死锁。</p>
<p><strong>死锁的产生的一些特定条件：</strong></p>
<p><strong>1、</strong> 互斥条件：进程对于所分配到的资源具有排它性，即一个资源只能被一个进程占用，直到被该进程释放 。</p>
<p><strong>2、</strong> 请求和保持条件：一个进程因请求被占用资源而发生阻塞时，对已获得的资源保持不放。</p>
<p><strong>3、</strong> 不剥夺条件：任何一个资源在没被该进程释放之前，任何其他进程都无法对他剥夺占用。</p>
<p><strong>4、</strong> 循环等待条件：当发生死锁时，所等待的进程必定会形成一个环路（类似于死循环），造成永久阻塞。</p>
<p><strong>如何避免：</strong></p>
<p><strong>1、</strong> 加锁顺序：</p>
<p>当多个线程需要相同的一些锁，但是按照不同的顺序加锁，死锁就很容易发生。如果能确保所有的线程都是按照相同的顺序获得锁，那么死锁就不会发生。当然这种方式需要你事先知道所有可能会用到的锁，然而总有些时候是无法预知的。</p>
<p><strong>2、</strong> 加锁时限：</p>
<p>加上一个超时时间，若一个线程没有在给定的时限内成功获得所有需要的锁，则会进行回退并释放所有已经获得的锁，然后等待一段随机的时间再重试。但是如果有非常多的线程同一时间去竞争同一批资源，就算有超时和回退机制，还是可能会导致这些线程重复地尝试但却始终得不到锁。</p>
<p><strong>3、</strong> 死锁检测：</p>
<p>死锁检测即每当一个线程获得了锁，会在线程和锁相关的数据结构中（map、graph等等）将其记下。除此之外，每当有线程请求锁，也需要记录在这个数据结构中。死锁检测是一个更好的死锁预防机制，它主要是针对那些不可能实现按序加锁并且锁超时也不可行的场景。</p>
<h2 id="notify和notifyAll区别"><a href="#notify和notifyAll区别" class="headerlink" title="notify和notifyAll区别"></a><strong>notify和notifyAll区别</strong></h2><p><strong>他们的作用都是通知处于等待该对象的线程。</strong></p>
<p><strong>1、</strong> notifyAll使所有原来在该对象上等待被notify的线程统统退出wait的状态，变成等待该对象上的锁，一旦该对象被解锁，他们就会去竞争。</p>
<p><strong>2、</strong> notify是通知其中一个线程，不会通知所有的线程。</p>
<h1 id="五、Linux使用与问题分析排查"><a href="#五、Linux使用与问题分析排查" class="headerlink" title="五、Linux使用与问题分析排查"></a><strong>五、Linux使用与问题分析排查</strong></h1><ol>
<li><p>硬链接和软链接的区别？</p>
</li>
<li><p>inode是什么？</p>
</li>
<li><p>Linux常用命令有哪些？</p>
</li>
<li><p>怎么看一个Java线程的资源耗用？</p>
</li>
<li><p>Load过高的可能性有哪些？</p>
</li>
<li><p>/etc/hosts文件什么做用？</p>
</li>
<li><p>/etc/resolv.conf文件什么作用？</p>
</li>
<li><p>如何快速的将一个文本中所有“abc”替换为“xyz”？</p>
</li>
<li><p>你常用的Linux下用来进行网络和磁盘IO分析的工具有哪些？</p>
</li>
<li><p>你常用的Linux下用来进行内存和CPU分析的工具有哪些？</p>
</li>
<li><p>发现磁盘空间不够，如何快速找出占用空间最大的文件？</p>
</li>
<li><p>Java服务端问题排查（OOM，CPU高，Load高，类冲突）</p>
</li>
<li><p>Java常用问题排查工具及用法（top, iostat, vmstat, sar, tcpdump, jvisualvm, jmap, jconsole）</p>
</li>
<li><p>Thread dump文件如何分析（Runnable，锁，代码栈，操作系统线程ID关联）</p>
</li>
<li><p>grep，awk，sed； 是否自己写过shell脚本；</p>
</li>
<li><p>常见的cpu load过高，us过高，一般是什么问题。引申出是否用过top，jstat，jstack等。</p>
</li>
<li><p>常见的内存问题一般有哪些。 引申出是否用过free，top， jmap等。</p>
</li>
</ol>
<h1 id="六、框架使用"><a href="#六、框架使用" class="headerlink" title="六、框架使用"></a><strong>六、框架使用</strong></h1><ol>
<li><p>Spring中Bean的生命周期。</p>
</li>
<li><p>SpringMVC或Struts处理请求的流程。</p>
</li>
<li><p>Spring AOP解决了什么问题？怎么实现的？aop与cglib，与asm的关系。</p>
</li>
<li><p>Spring事务的传播属性是怎么回事？它会影响什么？</p>
</li>
<li><p>Spring中BeanFactory和FactoryBean有什么区别？</p>
</li>
<li><p>Spring框架中IOC的原理是什么？</p>
</li>
<li><p>spring的依赖注入有哪几种方式</p>
</li>
<li><p>struts工作流程</p>
</li>
<li><p>用Spring如何实现一个切面？</p>
</li>
<li><p>Spring 如何实现数据库事务？</p>
</li>
<li><p>Hibernate和Ibatis这类ORM框架的区别？什么是ORM，解决的痛点是什么？</p>
</li>
<li><p>spriong ioc的生命周期，（init-method，intilizingbean接口方法afterPropertiesSet的先后顺序）等。</p>
</li>
<li><p>Hibernate对一二级缓存的使用，Lazy-Load的理解；</p>
</li>
<li><p>Spring IoC AOP自己用代码如何实现</p>
</li>
<li><p>RPC的负载均衡、服务发现怎么做的</p>
</li>
<li><p>几种推送模型的区别，long polling，websocket </p>
</li>
</ol>
<h2 id="springmvc的核心是什么，请求的流程是怎么处理的，控制反转怎么实现的"><a href="#springmvc的核心是什么，请求的流程是怎么处理的，控制反转怎么实现的" class="headerlink" title="springmvc的核心是什么，请求的流程是怎么处理的，控制反转怎么实现的"></a><strong>springmvc的核心是什么，请求的流程是怎么处理的，控制反转怎么实现的</strong></h2><p><strong>核心：</strong></p>
<p>控制反转和面向切面</p>
<p><strong>请求处理流程：</strong></p>
<p>1、首先用户发送请求到前端控制器，前端控制器根据请求信息（如URL）来决定选择哪一个页面控制器进行处理并把请求委托给它，即以前的控制器的控制逻辑部分；</p>
<p>2、页面控制器接收到请求后，进行功能处理，首先需要收集和绑定请求参数到一个对象，并进行验证，然后将命令对象委托给业务对象进行处理；处理完毕后返回一个ModelAndView（模型数据和逻辑视图名）；</p>
<p>3、前端控制器收回控制权，然后根据返回的逻辑视图名，选择相应的视图进行渲染，并把模型数据传入以便视图渲染；</p>
<p>4、前端控制器再次收回控制权，将响应返回给用户。</p>
<p><strong>控制反转如何实现：</strong></p>
<p>我们每次使用spring框架都要配置xml文件，这个xml配置了bean的id和class。</p>
<p>spring中默认的bean为单实例模式，通过bean的class引用反射机制可以创建这个实例。</p>
<p>因此，spring框架通过反射替我们创建好了实例并且替我们维护他们。</p>
<p>A需要引用B类，spring框架就会通过xml把B实例的引用传给了A的成员变量。</p>
<h2 id="说一下spring中Bean的作用域"><a href="#说一下spring中Bean的作用域" class="headerlink" title="说一下spring中Bean的作用域"></a>说一下spring中Bean的作用域</h2><p><strong>singleton：</strong></p>
<p>Spring IoC容器中只会存在一个共享的Bean实例，无论有多少个Bean引用它，始终指向同一对象。Singleton作用域是Spring中的缺省作用域。</p>
<p><strong>prototype：</strong></p>
<p>每次通过Spring容器获取prototype定义的bean时，容器都将创建一个新的Bean实例，每个Bean实例都有自己的属性和状态，而singleton全局只有一个对象。</p>
<p><strong>request：</strong></p>
<p>在一次Http请求中，容器会返回该Bean的同一实例。而对不同的Http请求则会产生新的Bean，而且该bean仅在当前Http Request内有效。</p>
<p><strong>session：</strong></p>
<p>在一次Http Session中，容器会返回该Bean的同一实例。而对不同的Session请求则会创建新的实例，该bean实例仅在当前Session内有效。</p>
<p><strong>global Session：</strong></p>
<p>在一个全局的Http Session中，容器会返回该Bean的同一个实例，仅在使用portlet context时有效。</p>
<p>说一下spring中Bean的生命周期</p>
<p>实例化一个Bean，也就是我们通常说的new。</p>
<p>按照Spring上下文对实例化的Bean进行配置，也就是IOC注入。</p>
<p>如果这个Bean实现了BeanNameAware接口，会调用它实现的setBeanName(String beanId)方法，此处传递的是Spring配置文件中Bean的ID。</p>
<p>如果这个Bean实现了BeanFactoryAware接口，会调用它实现的setBeanFactory()，传递的是Spring工厂本身（可以用这个方法获取到其他Bean）。</p>
<p>如果这个Bean实现了ApplicationContextAware接口，会调用setApplicationContext(ApplicationContext)方法，传入Spring上下文。</p>
<p>如果这个Bean关联了BeanPostProcessor接口，将会调用postProcessBeforeInitialization(Object obj, String s)方法，BeanPostProcessor经常被用作是Bean内容的更改，并且由于这个是在Bean初始化结束时调用After方法，也可用于内存或缓存技术。</p>
<p>如果这个Bean在Spring配置文件中配置了init-method属性会自动调用其配置的初始化方法。</p>
<p>如果这个Bean关联了BeanPostProcessor接口，将会调用postAfterInitialization(Object obj, String s)方法。</p>
<p>当Bean不再需要时，会经过清理阶段，如果Bean实现了DisposableBean接口，会调用其实现的destroy方法。</p>
<p>最后，如果这个Bean的Spring配置中配置了destroy-method属性，会自动调用其配置的销毁方法。</p>
<p>对Spring中依赖注入两种方式的认识</p>
<p><strong>两种注入方式为：构造方法注入和设值注入</strong></p>
<p>设值注入与传统的JavaBean的写法更相似，程序员更容易理解、接受，通过setter方式设定依赖关系显得更加直观、明显;</p>
<p>对于复杂的依赖关系，如果采用构造注入，会导致构造器过于臃肿，难以阅读。Spring在创建Bean实例时，需要同时实例化其依赖的全部实例，因而会产生浪费。而使用设置注入，则避免这下问题;</p>
<p>在某些属性可选的情况下，多参数的构造器更加笨拙，官方更鼓励使用设值注入。</p>
<p>构造注入可以在构造器中决定依赖关系的注入顺序，优先依赖的优先注入。</p>
<p>对于依赖关系无须变化的Bean，构造注入更有用处，因为没有setter方法，所有的依赖关系全部在构造器内设定，因此，不用担心后续代码对依赖关系的破坏。</p>
<p>构造注入使依赖关系只能在构造器中设定，则只有组件的创建者才能改变组件的依赖关系。对组件的调用者而言，组件内部的依赖关系完全透明，更符合高内聚的原则。</p>
<p>设值注入不会重写构造方法的值。如果我们对同一个变量同时使用了构造方法注入又使用了设置方法注入的话，那么构造方法将不能覆盖由设值方法注入的值。</p>
<p>建议采用以设值注入为主，构造注入为辅的注入策略。对于依赖关系无须变化的注入，尽量采用构造注入;而其他的依赖关系的注入，则考虑采用set注入。</p>
<h2 id="说一下Spring的核心模块"><a href="#说一下Spring的核心模块" class="headerlink" title="说一下Spring的核心模块"></a><strong>说一下Spring的核心模块</strong></h2><p><strong>Spring Core【核心容器】：</strong> 核心容器提供了Spring的基本功能。核心容器的核心功能是用IOC容器来管理类的依赖关系。</p>
<p><strong>Spring AOP【面向切面】：</strong> Spring的AOP模块提供了面向切面编程的支持。SpringAOP采用的是纯Java实现，采用基于代理的AOP实现方案，AOP代理由IOC容器负责生成、管理，依赖关系也一并由IOC容器管理。</p>
<p><strong>Spring ORM【对象实体映射】：</strong> 提供了与多个第三方持久层框架的良好整合。</p>
<p>**Spring DAO【持久层模块】： ** Spring进一步简化DAO开发步骤，能以一致的方式使用数据库访问技术，用统一的方式调用事务管理，避免具体的实现侵入业务逻辑层的代码中。</p>
<p><strong>Spring Context【应用上下文】：</strong> 它是一个配置文件，为Spring提供上下文信息，提供了框架式的对象访问方法。</p>
<p><strong>Spring Web【Web模块】：</strong> 提供了基础的针对Web开发的集成特性。</p>
<p><strong>Spring MVC【MVC模块】：</strong> 提供了Web应用的MVC实现。Spring的MVC框架并不是仅仅提供一种传统的实现，它提供了一种清晰的分离模型。</p>
<h2 id="Spring框架中都用到了哪些设计模式？"><a href="#Spring框架中都用到了哪些设计模式？" class="headerlink" title="Spring框架中都用到了哪些设计模式？"></a><strong>Spring框架中都用到了哪些设计模式？</strong></h2><p><strong>代理模式：</strong> 在AOP和remoting中被用的比较多。</p>
<p><strong>单例模式：</strong> 在spring配置文件中定义的bean默认为单例模式。</p>
<p><strong>模板方法模式：</strong> 用来解决代码重复的问题。</p>
<p><strong>前端控制器模式：</strong> Spring提供了DispatcherServlet来对请求进行分发。</p>
<p><strong>依赖注入模式：</strong> 贯穿于BeanFactory / ApplicationContext接口的核心理念。</p>
<p><strong>工厂模式：</strong> BeanFactory用来创建对象的实例。</p>
<p><strong>BeanFactory 和ApplicationContext的区别</strong></p>
<p>BeanFactory和ApplicationContext都是接口，并且ApplicationContext是BeanFactory的子接口。</p>
<p>BeanFactory是Spring中最底层的接口，提供了最简单的容器的功能，只提供了实例化对象和拿对象的功能。而ApplicationContext是Spring的一个更高级的容器，提供了更多的有用的功能。</p>
<p>ApplicationContext提供的额外的功能：国际化的功能、消息发送、响应机制、统一加载资源的功能、强大的事件机制、对Web应用的支持等等。</p>
<p>加载方式的区别：BeanFactory采用的是延迟加载的形式来注入Bean；ApplicationContext则相反的，它是在Ioc启动时就一次性创建所有的Bean,好处是可以马上发现Spring配置文件中的错误，坏处是造成浪费。</p>
<h2 id="mybatis如何处理结果集"><a href="#mybatis如何处理结果集" class="headerlink" title="mybatis如何处理结果集"></a><strong>mybatis如何处理结果集</strong></h2><p>MyBatis的结果集是通过反射来实现的。并不是通过get/set方法。在实体类中无论是否定义get/set()方法，都是可以接收到的。</p>
<hr>
<hr>
<p><strong>接口有什么用</strong></p>
<p>1、通过接口可以实现不相关类的相同行为，而不需要了解对象所对应的类。</p>
<p>2、通过接口可以指明多个类需要实现的方法。</p>
<p>3、通过接口可以了解对象的交互界面，而不需了解对象所对应的类。</p>
<p>另：Java是单继承，接口可以使其实现多继承的功能。</p>
<h1 id="七、数据库相关"><a href="#七、数据库相关" class="headerlink" title="七、数据库相关"></a><strong>七、数据库相关</strong></h1><ol>
<li><p>MySQL InnoDB的特点？</p>
</li>
<li><p>乐观锁和悲观锁的区别？</p>
</li>
<li><p>数据库隔离级别是什么？有什么作用？</p>
</li>
<li><p>MySQL主备同步的基本原理。</p>
</li>
<li><p>如何从一张表中查出name字段包含“XYZ”的所有行？</p>
</li>
<li><p>索引数据结构（字典+BitTree）</p>
</li>
<li><p>如何优化数据库性能（索引、分库分表、批量操作、分页算法、升级硬盘SSD、业务优化、主从部署）</p>
</li>
<li><p>SQL什么情况下不会使用索引（不包含，不等于，函数）</p>
</li>
<li><p>一般在什么字段上建索引（过滤数据最多的字段）</p>
</li>
<li><p>如何从一张表中查出name字段不包含“XYZ”的所有行？</p>
</li>
<li><p>MySQL，B+索引实现，行锁实现，SQL优化</p>
</li>
<li><p>Redis，RDB和AOF，如何做高可用、集群</p>
</li>
<li><p>如何解决高并发减库存问题</p>
</li>
<li><p>mysql存储引擎中索引的实现机制；</p>
</li>
<li><p>数据库事务的几种粒度；</p>
</li>
<li><p>行锁，表锁；乐观锁，悲观锁 </p>
</li>
</ol>
<h2 id="mysql优化经验"><a href="#mysql优化经验" class="headerlink" title="mysql优化经验"></a><strong>mysql优化经验</strong></h2><p>1、对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。</p>
<p>2、应尽量避免在 where 子句中使用!=或&lt;&gt;操作符，否则引擎将放弃使用索引而进行全表扫描。</p>
<p>3、尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连接时会逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。</p>
<p>4、任何地方都不要使用 select * from t ，用具体的字段列表代替“*”，不要返回用不到的任何字段。</p>
<p>5、避免频繁创建和删除临时表，以减少系统表资源的消耗。诸如此类，等等等等……</p>
<p>6、什么时候索引会失效</p>
<h2 id="悲观锁和乐观锁的区别，怎么实现"><a href="#悲观锁和乐观锁的区别，怎么实现" class="headerlink" title="悲观锁和乐观锁的区别，怎么实现"></a><strong>悲观锁和乐观锁的区别，怎么实现</strong></h2><p>悲观锁：一段执行逻辑加上悲观锁,不同线程同时执行时,只能有一个线程执行,其他的线程在入口处等待,直到锁被释放。</p>
<p>乐观锁：一段执行逻辑加上乐观锁,不同线程同时执行时,可以同时进入执行,在最后更新数据的时候要检查这些数据是否被其他线程修改了(版本和执行初是否相同),没有修改则进行更新,否则放弃本次操作。</p>
<p>悲观锁的实现：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//0.开始事务</span>
begin<span class="token punctuation">;</span><span class="token operator">/</span>begin work<span class="token punctuation">;</span><span class="token operator">/</span>start transaction<span class="token punctuation">;</span> <span class="token punctuation">(</span>三者选一就可以<span class="token punctuation">)</span>
<span class="token comment">//1.查询出商品信息</span>
select status from t_goods where id<span class="token operator">=</span><span class="token number">1</span> <span class="token keyword">for</span> update<span class="token punctuation">;</span>
<span class="token comment">//2.根据商品信息生成订单</span>
insert into t_orders <span class="token punctuation">(</span>id<span class="token punctuation">,</span>goods_id<span class="token punctuation">)</span> values <span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//3.修改商品status为2</span>
update t_goods set status<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token comment">//4.提交事务</span>
commit<span class="token punctuation">;</span><span class="token operator">/</span>commit work<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>乐观锁的实现：</p>
<pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">1.</span>查询出商品信息
select <span class="token punctuation">(</span>status<span class="token punctuation">,</span>status<span class="token punctuation">,</span>version<span class="token punctuation">)</span> from t_goods where id<span class="token operator">=</span>#<span class="token punctuation">{</span>id<span class="token punctuation">}</span>
<span class="token number">2.</span>根据商品信息生成订单
<span class="token number">3.</span>修改商品status为<span class="token number">2</span>
update t_goods
set status<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>version<span class="token operator">=</span>version<span class="token operator">+</span><span class="token number">1</span>
where id<span class="token operator">=</span>#<span class="token punctuation">{</span>id<span class="token punctuation">}</span> and version<span class="token operator">=</span>#<span class="token punctuation">{</span>version<span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h2 id="谈一谈对MySQL-InnoDB的认识"><a href="#谈一谈对MySQL-InnoDB的认识" class="headerlink" title="谈一谈对MySQL InnoDB的认识"></a><strong>谈一谈对MySQL InnoDB的认识</strong></h2><p><strong>介绍：</strong></p>
<p>InnoDB引擎是MySQL数据库的一个重要的存储引擎,和其他存储引擎相比,InnoDB引擎的优点是支持兼容ACID的事务(类似于PostgreSQL),以及参数完整性(有外键)等。现在Innobase实行双认证授权.MySQL5.5.5以后默认的存储引擎都是InnoDB引擎。</p>
<p>特点是：</p>
<p><strong>1、</strong> 具有较好的事务支持：支持4个事务隔离级别，支持多版本读</p>
<p><strong>2、</strong> 行级锁定：通过索引实现，全表扫描仍然会是表锁，注意间隙锁的影响</p>
<p><strong>3、</strong> 读写阻塞与事务隔离级别相关</p>
<p><strong>4、</strong> 具有非常高效的缓存特性：能缓存索引，也能缓存数据</p>
<p><strong>5、</strong> 整个表和主键以Cluster方式存储，组成一颗平衡树</p>
<p><strong>6、</strong> 所有Secondary Index都会保存主键信息</p>
<p><strong>适用场景：</strong></p>
<p><strong>1、</strong> 需要事务支持（具有较好的事务特性）</p>
<p><strong>2、</strong> 行级锁定对高并发有很好的适应能力，但需要确保查询是通过索引完成</p>
<p><strong>3、</strong> 数据更新较为频繁的场景</p>
<p><strong>4、</strong> 数据一致性要求较高</p>
<p><strong>5、</strong> 硬件设备内存较大，可以利用InnoDB较好的缓存能力来提高内存利用率，尽可能减少磁盘IO</p>
<h2 id="谈一谈数据库事务的隔离级别？"><a href="#谈一谈数据库事务的隔离级别？" class="headerlink" title="谈一谈数据库事务的隔离级别？"></a><strong>谈一谈数据库事务的隔离级别？</strong></h2><p><strong>1、</strong> Read uncommitted（读未提交）就是一个事务可以读取另一个未提交事务的数据。</p>
<p><strong>2、</strong> Read committed（读提交）就是一个事务要等另一个事务提交后才能读取数据。</p>
<p><strong>3、</strong> Repeatable read（重复读）就是在开始读取数据（事务开启）时，不再允许修改操作。</p>
<p><strong>4、</strong> Serializable（序列化）在该级别下，事务串行化顺序执行，可以避免脏读、不可重复读与幻读。是最高的事务隔离级别，但是这种事务隔离级别效率低下，比较耗数据库性能，一般不使用。</p>
<p>事务的作用就是保证数据的一致性、完整性。事务隔离级别越高，在并发下会产生的问题就越少，但同时付出的性能消耗也将越大，因此很多时候必须在并发性和性能之间做一个权衡。所以设立了几种事务隔离级别，以便让不同的项目可以根据自己项目的并发情况选择合适的事务隔离级别，对于在事务隔离级别之外会产生的并发问题，在代码中做补偿。</p>
<h2 id="MySQL主备同步的基本原理"><a href="#MySQL主备同步的基本原理" class="headerlink" title="MySQL主备同步的基本原理"></a><strong>MySQL主备同步的基本原理</strong></h2><p>MySQL支持单向、异步复制，复制过程中一个服务器充当主服务器，而一个或多个其它服务器充当从服务器。</p>
<p>MySQL复制是基于主服务器在二进制日志中跟踪所有对数据库的更改。因此，要进行复制，必须在主服务器上启用二进制日志。每个从服务器从主服务器接收主服务器已经记录到日志的数据。</p>
<p>当一个从服务器连接主服务器时，它通知主服务器从服务器在日志中读取的最后一次成功更新的位置。从服务器接收从那时起发生的任何更新，并在本机上执行相同的更新。然后封锁并等待主服务器通知新的更新。从服务器执行备份不会干扰主服务器，在备份过程中主服务器可以继续处理更新。</p>
<h1 id="八、网络协议和网络编程"><a href="#八、网络协议和网络编程" class="headerlink" title="八、网络协议和网络编程"></a><strong>八、网络协议和网络编程</strong></h1><ol>
<li><p>TCP建立连接的过程。</p>
</li>
<li><p>TCP断开连接的过程。</p>
</li>
<li><p>浏览器发生302跳转背后的逻辑？</p>
</li>
<li><p>HTTP协议的交互流程。HTTP和HTTPS的差异，SSL的交互流程？</p>
</li>
<li><p>Rest和Http什么关系？ 大家都说Rest很轻量，你对Rest风格如何理解？</p>
</li>
<li><p>TCP的滑动窗口协议有什么用？讲讲原理。</p>
</li>
<li><p>HTTP协议都有哪些方法？</p>
</li>
<li><p>交换机和路由器的区别？</p>
</li>
<li><p>什么是VLAN，有什么作用?</p>
</li>
<li><p>什么是VXLAN，有什么作用？</p>
</li>
<li><p>http协议（报文结构，断点续传，多线程下载，什么是长连接）</p>
</li>
<li><p>tcp协议（建连过程，慢启动，滑动窗口，七层模型）</p>
</li>
<li><p>webservice协议（wsdl/soap格式，与rest协议的区别）</p>
</li>
<li><p>spdy/http2.0协议是否有了解</p>
</li>
<li><p>NIO的好处，Netty线程模型，什么是零拷贝 </p>
</li>
</ol>
<h2 id="说说http-https协议"><a href="#说说http-https协议" class="headerlink" title="说说http,https协议"></a><strong>说说http,https协议</strong></h2><p><strong>HTTP：</strong></p>
<p>是互联网上应用最为广泛的一种网络协议，是一个客户端和服务器端请求和应答的标准（TCP），用于从WWW服务器传输超文本到本地浏览器的传输协议，它可以使浏览器更加高效，使网络传输减少。</p>
<p><strong>HTTPS：</strong></p>
<p>是以安全为目标的HTTP通道，简单讲是HTTP的安全版，即HTTP下加入SSL层，HTTPS的安全基础是SSL，因此加密的详细内容就需要SSL。</p>
<p><strong>区别：</strong></p>
<p>1、https协议需要到ca申请证书，一般免费证书较少，因而需要一定费用。</p>
<p>2、http是超文本传输协议，信息是明文传输，https则是具有安全性的ssl加密传输协议。</p>
<p>3、http和https使用的是完全不同的连接方式，用的端口也不一样，前者是80，后者是443。</p>
<p>4、http的连接很简单，是无状态的；HTTPS协议是由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议，比http协议安全。</p>
<hr>
<h2 id="说说tcp-ip协议族"><a href="#说说tcp-ip协议族" class="headerlink" title="说说tcp/ip协议族"></a><strong>说说tcp/ip协议族</strong></h2><p>TCP/IP协议族是一个四层协议系统，自底而上分别是数据链路层、网络层、传输层和应用层。每一层完成不同的功能，且通过若干协议来实现，上层协议使用下层协议提供的服务。</p>
<p>1、数据链路层负责帧数据的传递。</p>
<p>2、网络层责数据怎样传递过去。</p>
<p>3、传输层负责传输数据的控制（准确性、安全性）</p>
<p>4、应用层负责数据的展示和获取。</p>
<hr>
<h2 id="tcp五层网络协议"><a href="#tcp五层网络协议" class="headerlink" title="tcp五层网络协议"></a><strong>tcp五层网络协议</strong></h2><p><strong>物理层：</strong></p>
<p>为数据端设备提供传送数据的通路，数据通路可以是一个物理媒体，也可以是多个物理媒体连接而成。</p>
<p><strong>数据链路层：</strong></p>
<p>为网络层提供数据传送服务。</p>
<p><strong>网络层：</strong></p>
<p>路由选择和中继、激活,终止网络连接、在一条数据链路上复用多条网络连接,多采取分时复用技术 、差错检测与恢复、排序,流量控制、服务选择、网络管理 。</p>
<p><strong>传输层：</strong></p>
<p>传输层是两台计算机经过网络进行数据通信时,第一个端到端的层次，具有缓冲作用。</p>
<p><strong>应用层：</strong></p>
<p>应用层向应用程序提供服务</p>
<hr>
<h2 id="TCP与UDP的区别"><a href="#TCP与UDP的区别" class="headerlink" title="TCP与UDP的区别"></a><strong>TCP与UDP的区别</strong></h2><p>1、基于连接与无连接</p>
<p>2、TCP要求系统资源较多，UDP较少；</p>
<p>3、UDP程序结构较简单</p>
<p>4、流模式（TCP）与数据报模式(UDP);</p>
<p>5、TCP保证数据正确性，UDP可能丢包</p>
<p>6、TCP保证数据顺序，UDP不保证</p>
<h2 id="TCP和UDP的区别及其适用场景"><a href="#TCP和UDP的区别及其适用场景" class="headerlink" title="TCP和UDP的区别及其适用场景"></a>TCP和UDP的区别及其适用场景</h2><p><strong>首先说一下什么是TCP和UDP：</strong></p>
<p>TCP是传输控制协议，提供的是面向连接、可靠的字节流服务。</p>
<p>UDP是用户数据报协议，是一个简单的面向数据报的运输层协议。</p>
<p>TCP和UDP的区别：</p>
<p>TCP面向连接的运输层协议，UDP无连接</p>
<p>TCP是可靠交付，UDP是尽最大努力交付</p>
<p>TCP面向字节流，UDP面向报文</p>
<p>TCP是点对点连接的，UDP一对一，一对多，多对多都可以</p>
<p>TCP适合用于网页，邮件等，UDP适合用于视频，语音广播等</p>
<p><strong>TCP和UDP的适用场景：</strong></p>
<p>整个数据要准确无误的传递给对方，这往往用于一些要求可靠的应用，比如HTTP、HTTPS、FTP等传输文件的协议，POP、SMTP等邮件传输的协议。</p>
<p>当对网络通讯质量要求不高的时候，要求网络通讯速度能尽量的快，比如视频、广播等，这时就可以使用UDP。</p>
<hr>
<h2 id="cookie和session的区别，分布式环境怎么保存用户状态"><a href="#cookie和session的区别，分布式环境怎么保存用户状态" class="headerlink" title="cookie和session的区别，分布式环境怎么保存用户状态"></a><strong>cookie和session的区别，分布式环境怎么保存用户状态</strong></h2><p>1、cookie数据存放在客户的浏览器上，session数据放在服务器上。</p>
<p>2、cookie不是很安全，别人可以分析存放在本地的COOKIE并进行COOKIE欺骗，考虑到安全应当使用session。</p>
<p>3、session会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能，考虑到减轻服务器性能方面，应当使用COOKIE。</p>
<p>4、单个cookie保存的数据不能超过4K，很多浏览器都限制一个站点最多保存20个cookie。</p>
<h2 id="分布式环境下的session（举例两种）："><a href="#分布式环境下的session（举例两种）：" class="headerlink" title="分布式环境下的session（举例两种）："></a><strong>分布式环境下的session（举例两种）：</strong></h2><p><strong>服务器session复制</strong></p>
<p>原理：任何一个服务器上的session发生改变（增删改），该节点会把这个 session的所有内容序列化，然后广播给所有其它节点，不管其他服务器需不需要session，以此来保证Session同步。</p>
<p>优点：可容错，各个服务器间session能够实时响应。</p>
<p>缺点：会对网络负荷造成一定压力，如果session量大的话可能会造成网络堵塞，拖慢服务器性能。</p>
<p><strong>session共享机制</strong></p>
<p>使用分布式缓存方案比如memcached、redis，但是要求Memcached或Redis必须是集群。</p>
<h1 id="九、Redis等缓存系统-中间件-NoSQL-一致性Hash等"><a href="#九、Redis等缓存系统-中间件-NoSQL-一致性Hash等" class="headerlink" title="九、Redis等缓存系统/中间件/NoSQL/一致性Hash等"></a><strong>九、Redis等缓存系统/中间件/NoSQL/一致性Hash等</strong></h1><ol>
<li><p>列举一个常用的Redis客户端的并发模型。</p>
</li>
<li><p>HBase如何实现模糊查询？</p>
</li>
<li><p>列举一个常用的消息中间件，如果消息要保序如何实现？</p>
</li>
<li><p>如何实现一个Hashtable？你的设计如何考虑Hash冲突？如何优化？</p>
</li>
<li><p>分布式缓存，一致性hash</p>
</li>
<li><p>LRU算法，slab分配，如何减少内存碎片</p>
</li>
<li><p>如何解决缓存单机热点问题</p>
</li>
<li><p>什么是布隆过滤器，其实现原理是？ False positive指的是？</p>
</li>
<li><p>memcache与redis的区别</p>
</li>
<li><p>zookeeper有什么功能，选举算法如何进行</p>
</li>
<li><p>map/reduce过程，如何用map/reduce实现两个数据源的联合统计 </p>
</li>
</ol>
<h2 id="redis常用的五种数据类型"><a href="#redis常用的五种数据类型" class="headerlink" title="redis常用的五种数据类型"></a>redis常用的五种数据类型</h2><p><strong>1.String（字符串）</strong></p>
<p>String是简单的 key-value 键值对，value 不仅可以是 String，也可以是数字。它是Redis最基本的数据类型，一个redis中字符串value最多可以是512M。</p>
<p><strong>2.Hash（哈希）</strong></p>
<p>Redis hash 是一个键值对集合，对应Value内部实际就是一个HashMap，Hash特别适合用于存储对象。</p>
<p><strong>3.List（列表）</strong></p>
<p>Redis 列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素导列表的头部（左边）或者尾部（右边）。</p>
<p>底层实现为一个双向链表，即可以支持反向查找和遍历，更方便操作，不过带来了部分额外的内存开销，Redis内部的很多实现，包括发送缓冲队列等也都是用的这个数据结构。</p>
<p><strong>4.Set（集合）</strong></p>
<p>Redis的Set是String类型的无序集合，它的内部实现是一个 value永远为null的HashMap，实际就是通过计算hash的方式来快速排重的，这也是set能提供判断一个成员是否在集合内的原因。</p>
<p><strong>5.zset(有序集合)</strong></p>
<p>Redis zset 和 set 一样也是String类型元素的集合,且不允许重复的成员，不同的是每个元素都会关联一个double类型的分数，用来排序</p>
<h1 id="十、设计模式与重构"><a href="#十、设计模式与重构" class="headerlink" title="十、设计模式与重构"></a><strong>十、设计模式与重构</strong></h1><ol>
<li><p>你在设计一个工厂的包的时候会遵循哪些原则？</p>
</li>
<li><p>你能列举一个使用了Visitor/Decorator模式的开源项目/库吗？</p>
</li>
<li><p>你在编码时最常用的设计模式有哪些？在什么场景下用？</p>
</li>
<li><p>如何实现一个单例？</p>
</li>
<li><p>代理模式（动态代理）</p>
</li>
<li><p>单例模式（懒汉模式，恶汉模式，并发初始化如何解决，volatile与lock的使用）</p>
</li>
<li><p>JDK源码里面都有些什么让你印象深刻的设计模式使用，举例看看？</p>
</li>
<li><p>Reactor模式 </p>
</li>
</ol>
<h1 id="十一、学习与进取心"><a href="#十一、学习与进取心" class="headerlink" title="十一、学习与进取心"></a><strong>十一、学习与进取心</strong></h1><ol>
<li><p>平时会关注哪些技术？</p>
</li>
<li><p>会看那些技术博客和网站？</p>
</li>
<li><p>技术上有没有偶像？</p>
</li>
<li><p>看过哪些技术书籍？</p>
</li>
<li><p>你平常都看些什么书？你去年和今年看的书中印象最深的基本技术书籍和非技术书籍是？</p>
</li>
<li><p>（如果不看书）你平常都上哪些技术论坛？最喜欢哪个？为什么？</p>
</li>
<li><p>项目或产品中用到了什么新技术或框架</p>
</li>
<li><p>最近研究过什么业界流行的技术或框架</p>
</li>
<li><p>对现在所做的项目或产品的缺陷是否了解，有何规划</p>
</li>
<li><p>是否有带过项目，如何管理项目</p>
</li>
<li><p>是否有带过团队，团队管理最大的挑战点是什么 </p>
</li>
</ol>
<h1 id="十二、其他问题"><a href="#十二、其他问题" class="headerlink" title="十二、其他问题"></a><strong>十二、其他问题</strong></h1><ol>
<li><p>一个大文件4G，里面一行行的数字，这时内存只有256M，如果做排序？</p>
</li>
<li><p>如果你部署的应用所在机器硬盘坏了，会发生什么？你的程序要如何处理这种异常？（分布式系统中故障是一种常态，设计要避免单点故障，能容错，保证系统高可用）</p>
</li>
<li><p>实现一个消息队列系统</p>
</li>
<li><p>如何设计一个高可用的架构</p>
</li>
<li><p>多次Hash来解决URL重复访问问题。</p>
</li>
<li><p>全局唯一ID问题。</p>
</li>
<li><p>秒杀如何设计。</p>
</li>
<li><p>如何进行性能优化。</p>
</li>
<li><p>发现CPU 100%，如何排查？</p>
</li>
<li><p>实现一个分布式打点系统。</p>
</li>
<li><p>taobao.com和tmall.com的互相登录的问题。</p>
</li>
<li><p>如何快速对一个2亿数据的List进行排序？ </p>
</li>
</ol>
<h1 id="最后：需要记录的内容"><a href="#最后：需要记录的内容" class="headerlink" title="最后：需要记录的内容"></a>最后：需要记录的内容</h1><p>原来薪资情况，当前要求薪资情况，你对该面试人的评价【项目，技术，个人沟通方面】</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">欧葵</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://cutieagain.github.io/2021/04/08/java/%E9%9D%A2%E8%AF%95/%E5%B7%A7%E7%9B%AEjava%E9%9D%A2%E8%AF%95%E9%A2%9820210408/">http://cutieagain.github.io/2021/04/08/java/%E9%9D%A2%E8%AF%95/%E5%B7%A7%E7%9B%AEjava%E9%9D%A2%E8%AF%95%E9%A2%9820210408/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">欧葵</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2021/04/08/java%E8%BF%9B%E9%98%B6%E8%AE%AD%E7%BB%83%E8%90%A5/%E5%A4%A7%E7%BA%B2%E6%B1%87%E6%80%BB&%E5%85%B6%E4%BB%96%E8%AE%B0%E5%BD%95/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="">
                        
                        <span class="card-title"></span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2021-04-08
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            欧葵
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2021/04/07/%E6%97%A5%E8%AE%B0/%E6%97%A5%E8%AE%B0-20210407/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/23.jpg" class="responsive-img" alt="日记-20210406">
                        
                        <span class="card-title">日记-20210406</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            日记-20210406
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2021-04-07
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E6%97%A5%E8%AE%B0/" class="post-category">
                                    日记
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E6%97%A5%E8%AE%B0/">
                        <span class="chip bg-color">日记</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="366499907"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2021</span>
            
            <span id="year">2021</span>
            <a href="/about" target="_blank">欧葵</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">212.4k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/cutieagain" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:330449857@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=330449857" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 330449857" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
